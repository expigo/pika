# Beszel - Lightweight Server Monitoring
# 50MB RAM usage. Perfect for VPS.

services:
  beszel-agent:
    image: "henrygd/beszel-agent:latest"
    container_name: "beszel-agent"
    restart: unless-stopped
    network_mode: host
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
      # Monitor disk stats
      - /:/extra/filesystem:ro
    environment:
      PORT: 45876
      # KEY: "your-public-key-from-hub" (If using Beszel Hub)
      # Since you run self-hosted, you typically need the Beszel Hub (Server) too.
      # For a single VPS, we'll run BOTH Agent (Collector) and Hub (UI) here.

  beszel-hub:
    image: "henrygd/beszel:latest"
    container_name: "beszel-hub"
    restart: unless-stopped
    ports:
      - "8090:8090"
    volumes:
      - ./beszel_data:/beszel_data
